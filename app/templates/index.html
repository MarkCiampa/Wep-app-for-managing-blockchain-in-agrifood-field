<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    

</head>
<div class="rounded; mx-auto" style="width: 600px; margin:10px 0px 10px 0px; background: rgb(192, 192, 192)">
	<center>
	<br>
	<h2 class="title" style="font-family: Comic Sans MS, Comic Sans, cursive;">Inserisci il prodotto</h2>
	<form action="/submit" id="textform" method="post">
	 <div class="container">
		<br>
	    <div class="form-group">
			<input type="text" class="form-control" id="formGroupExampleInput2" name="cod_prod" placeholder="Product code">
		</div>
		<div class="form-group">
			<input type="text" class="form-control" id="formGroupExampleInput2" name="nome_prod" placeholder="Product name">
		</div>
		<div class="form-group">
			<input type="text" class="form-control" id="formGroupExampleInput2" name="place_of_work" placeholder="Place of work">
		</div>
		<select class="form-control" name="type" aria-placeholder="Select phase option" style="width: 500px;border: 2px solid #585858;">
			<option>Production phase</option>
			<option>Processing phase</option>
			<option>Storage phase</option>
			<option>Delivery phase</option>
			<option>Seller phase</option>
		</select>
		<br>
		<p>Per aggiungere i codici dei prodotti usati in questa fase di lavorazione, premere il bottone qui sotto. </p>
		<button type="button" onClick="add_field();" value="add field" class="btn btn-light">Add Field</button>
		<br>
		<script>
			function add_field()
		{
		  var total_text=document.getElementsByClassName("form-control-plaintext");
		  total_text=total_text.length+1;
		  document.getElementById("prodotti").innerHTML=document.getElementById("prodotti").innerHTML+
		  "<p id='input_text"+total_text+"_wrapper'><div class='container' align='center' style='margin-left:55px'><div class='row'><div class='col-auto' style='margin:0px 0px 0px 0px'><input type='text' class='form-control-plaintext' style='width:300px; background-color: white' name='list_prod"+total_text+"' id='input_text"+total_text+"' placeholder='Inserisci codice prodotto'></div><div class='col-auto'><input type='button' class='btn btn-dark mb-2' value='Cancella' onclick=remove_field('input_text"+total_text+"');></div></div></div></p>";
		}
		function remove_field(id)
		{
		  document.getElementById(id+"_wrapper").innerHTML="";
		}
		</script>
		<!-- <button type="submit" formaction="/addprod" value="add field" span class="border border-dark" class="shadow p-3 mb-5 bg-white rounded">Add Field</button>  -->
		<br>
		<div id="prodotti">

		</div>
		

		<br>
		<p>Inserire informazioni relative all'attuale fase di lavorazione: </p>
		
		<textarea name="content" rows="5" cols="50" placeholder="Just write whatever you want to..." span class="border border-dark" class="shadow p-3 mb-5 bg-white rounded" ></textarea>
		<br>
		
		<br>
		<input type="submit" value="Add product" style="margin-bottom: 10px;" class="btn btn-light"></span>
	    <br>
		
	</div>
</form>
</div>

	
	
	</center>

	<br>
	{% if error==true %}
	<script>window.alert('errore inserimento valori') </script>
	{% endif %}
	{% if ok==true %}
	<script>window.alert('blocco aggiunto!') </script>
	{% endif %}
	{% if message %}
	<script>window.alert('{{message}}') </script>
	{% endif %}
 

	<style>
	

		.form-group {
		    width: 500px;
		    margin-bottom: 8px;
		    border: 2px solid #585858;
		}

	

	</style> 
   

{% endblock %}

